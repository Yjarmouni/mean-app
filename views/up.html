<form class="form-horizontal" method="post" action="" enctype="multipart/form-data">
  <fieldset>
    <legend>Upload a picture</legend>
    
    
    <div class="form-group">
      <label class="col-lg-2 control-label">Select File</label>
      <span class="btn btn-default btn-file">
    Browse <input type="file" name="avatar">
</span>
    </div>


    <div class="form-group">
      <div class="col-lg-10 col-lg-offset-2">
        <button type="reset" class="btn btn-default">Cancel</button>
        <button type="submit" class="btn btn-primary">Submit</button>
      </div>
    </div>
  </fieldset>
</form>

<script type="text/javascript">
  
  $(document).ready( function() {
    $('.btn-file :file').on('fileselect', function(event, numFiles, label) {
        console.log(numFiles);
        console.log(label);
    });
});
  $(document).on('change', '.btn-file :file', function() {
    var input = $(this),
        numFiles = input.get(0).files ? input.get(0).files.length : 1,
        label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
    input.trigger('fileselect', [numFiles, label]);
});
</script>
